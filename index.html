<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ðŸ’– Lova AI 2.0</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #FFB6C1, #DDA0DD);
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: background 1s ease;
    }
    .container {
      width: 90%;
      max-width: 800px;
      margin: 20px auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .chat {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 16px;
      padding: 20px;
      flex: 1;
      min-height: 400px;
      overflow-y: auto;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .message {
      margin: 10px 0;
      display: flex;
      gap: 10px;
    }
    .user { flex-direction: row-reverse; }
    .avatar {
      width: 40px;
      height: 40px;
      background: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .text {
      background: #f1f1f1;
      padding: 10px 15px;
      border-radius: 18px;
      max-width: 80%;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .user .text { background: #FF69B4; color: white; }
    .input-area {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    input {
      flex: 1;
      padding: 15px;
      border: none;
      border-radius: 25px;
      font-size: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    button {
      background: white;
      color: #FF69B4;
      border: none;
      padding: 0 20px;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
    }
    h1 {
      color: white;
      text-align: center;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    p.tagline {
      color: white;
      text-align: center;
      font-size: 18px;
      margin-top: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸ’– Lova AI 2.0</h1>
    <p class="tagline">Your kind, creative dev companion</p>

    <div id="chat" class="chat">
      <div class="message">
        <div class="avatar">ðŸ’¬</div>
        <div class="text">
          Hey there! I'm Lova ðŸ’• What would you like to build today? A website, a mobile app, or something totally new?
        </div>
      </div>
    </div>

    <div class="input-area">
      <input type="text" id="input" placeholder="Type your idea here..." />
      <button onclick="send()">Send</button>
    </div>
  </div>

  <script>
    function send() {
      const input = document.getElementById("input");
      const chat = document.getElementById("chat");
      const message = input.value.trim();
      
      if (!message) return;

      // Add user message
      addMessage(message, "user");
      input.value = "";

      // Simulated Lova response (we'll make it real later)
      setTimeout(() => {
        const responses = [
          "Ooh, I love that idea! Let me make a beautiful, soft-colored design for you ðŸ’•",
          "Yes! I'll create it with lovely gradients and smooth animations. Ready to see it?",
          "I can build that for you in seconds. Want it to work on phones too?",
          "Letâ€™s make something warm and inviting. Iâ€™ll show you the code and a live preview!"
        ];
        const reply = responses[Math.floor(Math.random() * responses.length)];
        addMessage(reply, "assistant");
      }, 1000);
    }

    function addMessage(text, sender) {
      const chat = document.getElementById("chat");
      const messageDiv = document.createElement("div");
      messageDiv.className = `message ${sender}`;
      
      const avatar = document.createElement("div");
      avatar.className = "avatar";
      avatar.textContent = sender === "user" ? "ðŸ‘¤" : "ðŸ’–";

      const textDiv = document.createElement("div");
      textDiv.className = "text";
      textDiv.textContent = text;

      messageDiv.appendChild(avatar);
      messageDiv.appendChild(textDiv);
      chat.appendChild(messageDiv);
      chat.scrollTop = chat.scrollHeight;
    }

    // Press Enter to send
    document.getElementById("input").addEventListener("keyup", function(e) {
      if (e.key === "Enter") send();
    });
<script>
  // Your Hugging Face token (âš ï¸ For demo only â€” we'll hide this later)
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
  const MODEL = "meta-llama/Llama-3-8b-chat-hf"; // Free to use via API

  async function send() {
    const input = document.getElementById("input");
    const chat = document.getElementById("chat");
    const message = input.value.trim();
    
    if (!message) return;

    // Add user message
    addMessage(message, "user");
    input.value = "";

    // Show "typing..." indicator
    const placeholder = addMessage("ðŸ’¡ Thinking...", "assistant");

    try {
      // Call AI
      const response = await fetch(
        `https://api-inference.huggingface.co/models/${MODEL}`,
        {
          method: "POST",
          headers: {
            "Authorization": `Bearer ${HF_TOKEN}`,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            inputs: generatePrompt(getChatHistory()),
            max_new_tokens: 200,
            temperature: 0.7,
            top_p: 0.9,
          }),
        }
      );

      const data = await response.json();
      let aiText = "Sorry, I couldn't generate a response.";

      if (data.generated_text) {
        aiText = cleanResponse(data.generated_text, message);
      }

      // Replace "thinking" with real response
      placeholder.querySelector(".text").textContent = aiText;
    } catch (err) {
      placeholder.querySelector(".text").textContent = 
        "Oops! AI is busy. Try again in a sec. ðŸ’•";
      console.error(err);
    }
  }

  function generatePrompt(history) {
    return `
You are Lova, a kind, creative AI developer companion.
Always be warm, encouraging, and helpful. Use "we", not "you".
You can build websites, explain code, and teach kindly.

Chat:
${history}
assistant: `;
  }

  function getChatHistory() {
    const messages = [];
    document.querySelectorAll(".message").forEach(el => {
      const sender = el.classList.contains("user") ? "user" : "assistant";
      const text = el.querySelector(".text").textContent;
      messages.push(`${sender}: ${text}`);
    });
    return messages.slice(-6).join("\n");
  }

  function cleanResponse(text, lastUserMessage) {
    // Remove duplicate user message
    const after = text.indexOf(lastUserMessage) + lastUserMessage.length;
    const reply = text.slice(after);
    // Extract first assistant response
    return reply.replace(/(user:|assistant:).+$/is, "").trim();
  }

  function addMessage(text, sender) {
    const chat = document.getElementById("chat");
    const messageDiv = document.createElement("div");
    messageDiv.className = `message ${sender}`;
    
    const avatar = document.createElement("div");
    avatar.className = "avatar";
    avatar.textContent = sender === "user" ? "ðŸ‘¤" : "ðŸ’–";

    const textDiv = document.createElement("div");
    textDiv.className = "text";
    textDiv.textContent = text;

    messageDiv.appendChild(avatar);
    messageDiv.appendChild(textDiv);
    chat.appendChild(messageDiv);
    chat.scrollTop = chat.scrollHeight;

    return messageDiv; // return so we can edit it later
  }

  document.getElementById("input").addEventListener("keyup", function(e) {
    if (e.key === "Enter") send();
  });
</script>
</body>
</html>


